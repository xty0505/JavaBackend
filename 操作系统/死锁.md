# 死锁

## 必要条件

- 互斥：每个资源要么已经分配给了一个进程，要么就是可用的。
- 占有和等待：已经得到了某个资源的进程可以再请求新的资源。
- 不可抢占：已经分配给一个进程的资源不能强制性地被抢占，它只能被占有它的进程显式地释放。
- 环路等待：有两个或者两个以上的进程组成一条环路，该环路中的每个进程都在等待下一个进程所占有的资源。



## 解决方法

### 鸵鸟策略

由于解决死锁问题的代价很高，因此不采取措施，真的发生死锁时重启进程。

大多数操作系统 Unix/Linux/Windows 处理死锁的办法仅仅是忽略它。

### 死锁检测与死锁恢复

不试图阻止死锁，而是当其发生时检测到并采取措施恢复。

### 死锁预防

破坏死锁的必要条件之一。

### 死锁避免

银行家算法，如果某种资源分配方式会使系统进入非安全状态，则不会按照该方式分配资源。